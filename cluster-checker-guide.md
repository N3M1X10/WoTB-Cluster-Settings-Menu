# Краткое описание `cluster-checker.bat`
- Пакет вводит команды для проверки возможности подключения, и замеряет среднюю задержку обмена пакетами с кластерами СНГ сервера игры Tanks Blitz.

# Проверка доступности кластера
Если после выбора кластера в окне `cluster-checker.bat`, при проверке подключения в консоли пишет:
```
Reply from ***.***.***.***: bytes=** time=**ms TTL=**
Reply from ***.***.***.***: bytes=** time=**ms TTL=**
Reply from ***.***.***.***: bytes=** time=**ms TTL=**
Reply from ***.***.***.***: bytes=** time=**ms TTL=**
```
Значит данный кластер - не блокируется (игра сможет запустить вас на него)

Если же после выбора кластера, консоль пишет:
```
General failure.
General failure.
General failure.
General failure.
```
Значит этот кластер блокируется (либо недоступен по техническим причинам, или прочим другим)

# Примечания

> [!note]
> - Если вы пользуетесь `wotb-csm` для блокировки кластеров,
этот пакет поможет проверить доступность кластеров сервера игры для подключения.
> - Иногда разработчики меняют диапазон ip-адресов, что может привести к неработоспособности `wotb-csm`

### Состояние блокировки
>[!note]
> - Также, если пакет указывает на то - что кластер не блокируется: тот адрес, который вам укажет консоль - можно использовать для корректировки диапазона адерсов.

## Как поправить адреса блокировки?
>[!tip]
> - Ознакомьтесь с основами пользования **`Windows Firewall`**, если не знаете как с ним работать
> - Найдите существующие или создайте правила блокировки кластеров через `wotb-csm`, и расширьте диапазон ip-адресов для тех кластеров, которые вы не можете заблокировать через `wotb-csm`
> - Обязательно [**сообщите**](https://github.com/N3M1X10/wotb-csm/master/cluster-checker-guide.md#%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F-%D1%81%D0%B2%D1%8F%D0%B7%D1%8C) о найденном изменении в диапазоне адресов

К примеру `RU_C3`:
```
Pinging login3.tanksblitz.ru [92.38.156.142] with 32 bytes of data:
Reply from 92.38.156.142: bytes=32 time=6ms TTL=**
Reply from 92.38.156.142: bytes=32 time=6ms TTL=**
Reply from 92.38.156.142: bytes=32 time=6ms TTL=**
Reply from 92.38.156.142: bytes=32 time=6ms TTL=**

Ping statistics for 92.38.156.142:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 6ms, Maximum = 6ms, Average = 6ms
```
- В данном ответе мы видим что `RU_C3` по адресу `92.38.156.142`, принимает и отправляет ответ.
- `92.38.156.142` - Адресс кластера сервера.
- `142` на конце - это конкретная точка в диапазоне адресов этого кластера.
  Наименьшее и наибольшее значение, стоящее в конце - и формируют диапазон адресов.

## Как найти кластер с наименьшей задержкой:

К примеру `RU_C3`:
```
Pinging login3.tanksblitz.ru [92.38.156.***] with 32 bytes of data:
Reply from 92.38.156.***: bytes=32 time=6ms TTL=**
Reply from 92.38.156.***: bytes=32 time=6ms TTL=**
Reply from 92.38.156.***: bytes=32 time=6ms TTL=**
Reply from 92.38.156.***: bytes=32 time=6ms TTL=**

Ping statistics for 92.38.156.***:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 6ms, Maximum = 6ms, Average = 6ms
```
- `Average = 6ms` - Средняя задержка обмена пакетами, с тем самым кластером, который вы проверяете.
  Следовательно при проверке всех кластеров, не блокируя ни один из них, можно увидеть тот - до которого у вас наименьшая задержка. А значит - и игра на нём будет комфортнее.

# Обратная связь:
* [**Github Issues**](https://github.com/N3M1X10/wotb-csm/issues)
* [**Discord**](https://discord.gg/2jJ3Qn4)
